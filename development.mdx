---
title: 'Development'
description: 'Local development setup and commands for Pixelated Empathy'
---

<Info>
  **Prerequisites**:
  - Node.js v19+ (use `nvm` to manage versions)
  - pnpm (for Node.js dependencies)
  - uv (for Python dependencies)
  - Docker & Docker Compose (for local infrastructure)
</Info>

## Quick Start

<Steps>
<Step title="Install Dependencies">

Install all frontend and service dependencies:

```bash
# Node.js dependencies
pnpm install

# Python dependencies (AI services, bias detection, pipelines)
uv sync
```

</Step>

<Step title="Start Infrastructure">

Launch local infrastructure services (MongoDB, Redis, etc.):

```bash
docker compose up -d
```

</Step>

<Step title="Run Development Server">

Start the Astro development server with all services:

```bash
pnpm dev:all-services
```

This starts:

- Frontend dev server (typically port 5173)
- AI Service (FastAPI)
- WebSocket server
- Worker service

</Step>
</Steps>

## Development Commands

<AccordionGroup>
<Accordion title="Frontend Only" icon="browser">

```bash
# Start Astro dev server
pnpm dev

# With custom port
pnpm dev --port 3000
```

</Accordion>

<Accordion title="Full Stack" icon="layers">

```bash
# Start all services
pnpm dev:all-services

# Start with specific port
pnpm dev:all-services --port 8080
```

</Accordion>

<Accordion title="AI Services Only" icon="brain">

```bash
# Start the AI inference service
pnpm dev:ai

# Start the research pipeline
pnpm dev:pipeline
```

</Accordion>
</AccordionGroup>

## Quality Gates

Before submitting changes, run the full quality check:

```bash
# Type check, lint, and format
pnpm check:all

# Unit tests
pnpm test:all

# Security audit
pnpm security:scan

# Ultimate Bug Scanner (UBS) on changed files
ubs $(git diff --name-only --cached)
```

<AccordionGroup>
<Accordion title="Port Conflicts" icon="circle-exclamation">

If port 5173 is already in use, the Astro dev server will attempt the next available port.
  You can also specify a custom port:

```bash
pnpm dev --port 3000
```

</Accordion>

<Accordion title="Node.js Memory Issues" icon="memory">

The dev server is configured with increased memory (`--max-old-space-size=8192`).
  If you still encounter memory issues:

```bash
NODE_OPTIONS="--max-old-space-size=16384" pnpm dev
```

</Accordion>

<Accordion title="Python Environment Issues" icon="python">

If uv encounters issues, try resetting the environment:

```bash
rm -rf .venv
uv sync
```

</Accordion>

<Accordion title="Docker Services Won't Start" icon="docker">

Check Docker daemon status and available disk space:

```bash
docker ps
docker system df
```

</Accordion>
</AccordionGroup>

## Documentation

This documentation site is built with [Astro Starlight](https://starlight.astro.build/). To run the docs locally:

```bash
# From project root
pnpm dev

# Docs are served at the same port as the main app
# Navigate to /docs route
```

<Info>
  The `<Steps>`, `<Step>`, `<Info>`, `<Accordion>`, and `<AccordionGroup>` components used throughout this
  documentation are built into Astro Starlight.
</Info>
